<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../../main.css">
 </head>
 <body>
  <div id="readme" class="Box">
   <article class="markdown-body container-lg">
    <h1>Parameter configuration files</h1>
    <h2>Overview</h2>
    <p>You can change running parameters by parameter configuration files.</p>
    <ul>
     <li><strong>testrun file</strong> (properties file)</li>
     <li><strong>testConfig file</strong> (json file)</li>
    </ul>
    <h2>testrun.properties</h2>
    <p><strong>testrun.properties</strong> file is testrun file that can be placed anywhere in the project and can have an arbitrary name. This file should be designated in test setup procedure by <a href="../creating_testclass">@Testrun</a> annotation.</p>
    <pre><code class="language-kotlin">@Testrun("testConfig/android/androidSettings/testrun.properties")
class Test1 : UITest() {

}
</code></pre>
    <p>“<strong>testConfig/testrun.properties</strong>” is default and applied when <code>@Testrun</code> is omitted.</p>
    <pre><code class="language-kotlin">class Test1 : UITest() {

}
</code></pre>
    <p>The above is equivalent to below.</p>
    <pre><code class="language-kotlin">@Testrun("testConfig/testrun.properties")
class Test1 : UITest() {

}
</code></pre>
    <h2>testrun.global.properties</h2>
    <p><strong>testrun.global.properties</strong> file is the testrun file that is placed under the project directory. This file is fixed name file and should not be designated by <code>@Testrun</code> annotation. The parameters in this file is effective to all tests in this project, but they can be overridden by other configuration files(<code>testrun.properties</code> or <code>testConfig.json</code>).</p>
    <h2>Example of testrun file</h2>
    <pre><code># testrun

## OS --------------------
#os=ios

## Config --------------------
## [Android]
#android.configFile=
#android.profile=Android *
android.profile=Android 12

## [iOS]
#ios.configFile=
ios.profile=iPhone 13(15.5)

## Stub --------------------
#stubServerUrl=http://stub1

## Test mode --------------------
#noLoadRun=true

## Priority filter --------------------
#must=false
#should=false
#want=false
#none=false

## Log --------------------
#logLanguage=ja
#enableSyncLog=false
#enableTestList=false
#enableTestClassList=false
#enableSpecReport=false
#enableInnerMacroLog=true
#enableInnerCommandLog=true
#enableSilentLog=true
#enableTapElementImageLog=true
#enableXmlSourceDump=false
#enableRetryLog=false
#enableWarnOnRetryError=true
#enableGetSourceLog=true
#enableTrace=true
#enableShellExecLog=true
#enableTimeMeasureLog=true
#enableImageMatchDebugLog=true
#testResults=
#testListDir=

## Screenshot --------------------
#screenshotScale=0.333333
#autoScreenshot=false
#onChangedOnly=false
#onCondition=false
#onAction=false
#onExpectation=false
#onExecOperateCommand=false
#onCheckCommand=false
#onScrolling=false
#manualScreenshot=false

## Image Matching --------------------
#imageMatchingScale=
#imageMatchingThreshold=
#imageMatchingCandidateCount=

## Appium --------------------
appiumServerUrl=http://127.0.0.1:4720/
appiumPath=appium
appiumArgs=--session-override --relaxed-security
#appiumArgsSeparator=
#appiumServerStartupTimeoutSeconds=
#appiumSessionStartupTimeoutSeconds=
#implicitlyWaitSeconds=
#appPackageFile=
#appPackageDir=
#packageOrBundleId=
#startupPackageOrBundleId=
#startupActivity=

## TestDriver --------------------
#reuseDriver=
#retryMaxCount=
#retryTimeoutSeconds=
#retryIntervalSeconds=
#enableHealthCheck=false
#tapTestSelector=

## App operation --------------------
#appIconName=
#tapAppIconMethod=
#tapAppIconMacro=
#shortWaitSeconds=
#waitSecondsForLaunchAppComplete=
#waitSecondsForAnimationComplete=
#waitSecondsOnIsScreen=
#waitSecondsForConnectionEnabled=
#swipeDurationSeconds=
#flickDurationSeconds=
#swipeMarginRatio=
#scrollVerticalMarginRatio=
#scrollHorizontalMarginRatio=
#tapHoldSeconds=
#syncWaitSeconds=

## Custom --------------------
#CustomObject.scan.dir=src/test/kotlin

## Macro --------------------
#MacroObject.scan.dir=src/test/kotlin

## Spec-Report --------------------
#specReport.replace.MANUAL=
#specReport.replace.MANUAL.reason=
#specReport.replace.SKIP=
#specReport.replace.SKIP.reason=

## misc
#android.swipeOffsetY=-20
#ios.swipeOffsetY=-5
#xmlSourceRemovePattern=
#boundsToRectRatio=
#ios.selectIgnoreTypes=XCUIElementTypeCell,XCUIElementTypeApplication
#android.titleSelector=&lt;#action_bar||#toolbar||#app_bar&gt;:descendant(${title}||@${title})
#ios.titleSelector=&lt;.XCUIElementTypeNavigationBar&gt;:descendant(.XCUIElementTypeStaticText&amp;&amp;${title})
#android.webTitleSelector=.android.webkit.WebView&amp;&amp;${webTitle}
#ios.webTitleSelector=&lt;.XCUIElementTypeWebView&gt;:descendant(${webTitle}&amp;&amp;visible=false)
#jquerySource=
</code></pre>
    <h2>testConfig file</h2>
    <p><strong>testConfig file</strong> is json file that can be placed anywhere in the project and can have an arbitrary name. This file should be designated in test setup procedure by the testrun file.</p>
    <p><strong>testrun file</strong></p>
    <pre><code class="language-properties">## OS --------------------
os=android
## Config --------------------
## [Android]
android.configFile=testConfig/android/androidSettings/androidSettingsConfig.json
android.profile=Android 12
</code></pre>
    <p>In <strong>testConfig</strong> file, you can set test <strong>profiles</strong> for test devices and <code>desired capabilities</code> of appium.</p>
    <pre><code>{
  "testConfigName": "androidSettingsConfig",

  "appIconName": "Settings",

  "packageOrBundleId": "com.android.settings",

  "startupPackageOrBundleId": "com.android.settings",
  "startupActivity": "com.android.settings.Settings",

  "settings": {
    "always_finish_activities": "0"
  },

  "dataset": {
    "accounts": "testConfig/android/androidSettings/dataset/accounts.json",
    "apps": "testConfig/android/androidSettings/dataset/apps.json",
    "data": "testConfig/android/androidSettings/dataset/data.json"
  },

  "screens": {
    "import": [
      "testConfig/android/calculator/screens",
      "testConfig/android/misc/screens",
      "testConfig/android/playStore/screen"
    ]
  },

  "capabilities": {
    "language": "en",
    "locale": "US"
  },

  "profiles": [
    {
      "profileName": "Android 12",
      "capabilities": {
        "platformVersion": "12"
      }
    },
    {
      "profileName": "Android 13",
      "capabilities": {
        "platformVersion": "13"
      }
    },
    {
      "profileName": "Android 12 with Tag1",
      "specialTags": "Tag1",
      "capabilities": {
        "platformVersion": "12"
      }
    },
    {
      "profileName": "Android 12 with Tat2 &amp; Tag3",
      "specialTags": "Tag2, Tag3",
      "capabilities": {
        "platformVersion": "12"
      }
    },

    {
      "profileName": "emulator-5556",
      "capabilities": {
        "udid": "emulator-5556"
      }
    }

  ]

}
</code></pre>
    <h2>Priority</h2>
    <p>testConfig file &gt; testrun.properties &gt; testrun.global.properties</p>
    <h3>Link</h3>
    <ul>
     <li><a href="../../index.html">index</a></li>
    </ul>
   </article>
  </div>
 </body>
</html>